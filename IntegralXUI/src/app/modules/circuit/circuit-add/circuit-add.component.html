<div>
    <div class="card">
        <div class="card-body ">
            <div class="d-flex justify-content-between align-items-center mt-2">
                <h3 class="m-0">New Circuit</h3>
                <a class="" (click)="backToCircuit()">
                    <i class="feather styleIcon icon-arrow-left" style="font-size: xx-large;"
                        title="Back to circuits"></i>
                </a>
            </div>
            <hr class="mt-0">
            <form [formGroup]="circuitForm" (ngSubmit)="saveCircuit()">
                <div class="floating-button-panel text-center">

                    <div *ngIf="!this.expand" > <button class="btn-commonIcon" (click)="expandAll()"      title="Expand all sections"
                        > <i class="bi feather  icon-maximize-2"></i> </button> </div>
                    <div *ngIf="this.expand" >  <button class="btn-commonIcon" (click)="collapseAll()"     title="Collapse all sections"
                        >  <i class="bi feather icon-minimize-2"></i> </button> </div>
                  
                        <div *ngIf="this.canAdd" > <button type="submit" [disabled]="circuitForm.invalid" title="Save data" class="btn-saveIcon">   <i class="bi  feather icon-save"></i></button> </div>
                        <div *ngIf="!this.canAdd" > <button type="submit" disabled   class="btn-saveIcon" title="Save data-disabled">   <i  class="bi  feather icon-save"></i></button> </div>
                  </div>
                <div class="row">
                    <div class="col-md-4">
                        <!-- General -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showGeneral')">
                                General Information
                                <span class="arrow" [class.open]="showGeneral"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showGeneral">
                                <div class="row">
                                    <!-- General Information fields go here -->

                                    <!-- Name -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="name" class="form-label">Name: <span
                                                    class="text-danger">*</span></label>
                                            <input id="name" formControlName="name" class="form-control form-control-nb"
                                                placeholder="Enter circuit name" />
                                            <div *ngIf="circuitForm.controls['name'].invalid && circuitForm.controls['name'].touched"
                                                class="text-danger">
                                                <div *ngIf="circuitForm.controls['name'].errors?.['required']">Name is
                                                    required.
                                                </div>
                                                <div *ngIf="circuitForm.controls['name'].errors?.['nameExists']">Name
                                                    already
                                                    exists.</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Circuit Description -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="circuitDescription" class="form-label">Circuit Description:<span
                                                    class="text-danger">*</span></label>
                                            <input id="circuitDescription" formControlName="circuitDescription"
                                                class="form-control form-control-nb" placeholder="Enter description" />
                                        </div>
                                    </div>

                                    <!-- Circuit Type -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="circuitTypeId" class="form-label">Circuit Type:</label>
                                            <select id="circuitTypeId" formControlName="circuitTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Type --</option>
                                                <option *ngFor="let t of circuitTypes" [value]="t.id">{{ t.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Commissioning Date -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="commissioningDate" class="form-label">Commissioning
                                                Date:</label>
                                            <input id="commissioningDate" formControlName="commissioningDate"
                                                type="date" class="form-control form-control-nb" />
                                        </div>
                                    </div>

                                    <!-- Built Date -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="builtDate" class="form-label">Built Date:</label>
                                            <input id="builtDate" formControlName="builtDate" type="date"
                                                class="form-control form-control-nb" />
                                        </div>
                                    </div>

                                    <!-- Operational Status -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="operationalStatusId" class="form-label">Operational
                                                Status:</label>
                                            <select id="operationalStatusId" formControlName="operationalStatusId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Status --</option>
                                                <option *ngFor="let t of circuitStatus" [value]="t.id">{{ t.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4">
                        <!-- Location -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showLocation')">
                                Location
                                <span class="arrow" [class.open]="showLocation"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showLocation">
                                <div class="row">
                                    <!-- Location fields go here -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="plantID" class="form-label">Plant ID: <span
                                                    class="text-danger">*</span></label>
                                            <select id="plantID" formControlName="plantID"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Plant --</option>
                                                <option *ngFor="let plant of plants" [value]="plant.id">{{ plant.name }}
                                                </option>
                                            </select>
                                            <div *ngIf="circuitForm.controls['plantID'].invalid && circuitForm.controls['plantID'].touched"
                                                class="text-danger">
                                                <div *ngIf="circuitForm.controls['plantID'].errors?.['required']">Plant
                                                    ID is
                                                    required.</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Area ID (Dropdown) -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="areaID" class="form-label">Area ID:</label>
                                            <select id="areaID" formControlName="areaID"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Area --</option>
                                                <option *ngFor="let area of areas" [value]="area.id">{{ area.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Unit ID (Dropdown) -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="unitID" class="form-label">Unit ID:</label>
                                            <select id="unitID" formControlName="unitID"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Unit --</option>
                                                <option *ngFor="let unit of units" [value]="unit.id">{{ unit.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- System ID (Dropdown) -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="systemID" class="form-label">System ID:</label>
                                            <select id="systemID" formControlName="systemID"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select System --</option>
                                                <option *ngFor="let system of systems" [value]="system.id">{{
                                                    system.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>


                                    <!-- Corrosion Loop ID -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="corrosionLoopID" class="form-label">Corrosion Loop ID:</label>
                                            <input id="corrosionLoopID" formControlName="corrosionLoopID" type="number"
                                                class="form-control form-control-nb"
                                                placeholder="Enter Corrosion Loop ID" />
                                        </div>
                                    </div>

                                    <!-- Specific Location -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="specificLocation" class="form-label">Specific Location:</label>
                                            <input id="specificLocation" formControlName="specificLocation"
                                                class="form-control form-control-nb"
                                                placeholder="Enter Specific Location" />
                                        </div>
                                    </div>

                                    <!-- Circuit From -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="circuitFrom" class="form-label">Circuit From:</label>
                                            <input id="circuitFrom" formControlName="circuitFrom"
                                                class="form-control form-control-nb" placeholder="Enter Circuit From" />
                                        </div>
                                    </div>

                                    <!-- Circuit To -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="circuitTo" class="form-label">Circuit To:</label>
                                            <input id="circuitTo" formControlName="circuitTo"
                                                class="form-control form-control-nb" placeholder="Enter Circuit To" />
                                        </div>
                                    </div>

                                    <!-- PFD -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="pfd" class="form-label">PFD:</label>
                                            <input id="pfd" formControlName="pfd" class="form-control form-control-nb"
                                                placeholder="Enter PFD" />
                                        </div>
                                    </div>

                                    <!-- P&ID -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="pnID" class="form-label">P&ID:</label>
                                            <input id="pnID" formControlName="pnID" class="form-control form-control-nb"
                                                placeholder="Enter P&ID" />
                                        </div>
                                    </div>

                                    <!-- Isometric Drawing -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="isometricDrawing" class="form-label">Isometric Drawing:</label>
                                            <input id="isometricDrawing" formControlName="isometricDrawing"
                                                class="form-control form-control-nb"
                                                placeholder="Enter Isometric Drawing" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <!-- Design -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showDesign')">
                                Design
                                <span class="arrow" [class.open]="showDesign"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showDesign">
                                <div class="row">
                                    <!-- Design fields go here -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="designCodeId" class="form-label">Design Code:</label>
                                            <select id="designCodeId" formControlName="designCodeId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Design Code --</option>
                                                <option *ngFor="let code of designCodeList" [value]="code.id">{{
                                                    code.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Edition and Addendum ID (Dropdown) -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="editionAndAddendumId" class="form-label">Edition &
                                                Addendum:</label>
                                            <select id="editionAndAddendumId" formControlName="editionAndAddendumId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Edition & Addendum --</option>
                                                <option *ngFor="let edition of editionList" [value]="edition.id">{{
                                                    edition.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Design Pressure Internal -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="designPressureInternal" class="form-label">Design Pressure
                                                (Internal):</label>
                                            <input id="designPressureInternal" formControlName="designPressureInternal"
                                                class="form-control form-control-nb"
                                                placeholder="Enter internal pressure" />
                                        </div>
                                    </div>

                                    <!-- Design Pressure External -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernw">
                                            <label for="designPressureExternal" class="form-label">Design Pressure
                                                (External):</label>
                                            <input id="designPressureExternal" formControlName="designPressureExternal"
                                                class="form-control form-control-nb"
                                                placeholder="Enter external pressure" />
                                        </div>
                                    </div>

                                    <!-- Design Temperature Max -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernw">
                                            <label for="designTemperatureMax" class="form-label">Design Temperature
                                                (Max):</label>
                                            <input id="designTemperatureMax" formControlName="designTemperatureMax"
                                                class="form-control form-control-nb"
                                                placeholder="Enter max temperature" />
                                        </div>
                                    </div>

                                    <!-- Design Temperature MDMT -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernw">
                                            <label for="designTemperatureMDMT" class="form-label">Design Temperature
                                                (MDMT):</label>
                                            <input id="designTemperatureMDMT" formControlName="designTemperatureMDMT"
                                                class="form-control form-control-nb"
                                                placeholder="Enter MDMT temperature" />
                                        </div>
                                    </div>

                                    <!-- MAWP -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="mawp" class="form-label">MAWP:</label>
                                            <input id="mawp" formControlName="mawp" class="form-control form-control-nb"
                                                placeholder="Enter MAWP" />
                                        </div>
                                    </div>

                                    <!-- Design Life -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="designLife" class="form-label">Design Life:</label>
                                            <input id="designLife" formControlName="designLife"
                                                class="form-control form-control-nb" placeholder="Enter design life" />
                                        </div>
                                    </div>

                                    <!-- Primary Products -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="primaryProducts" class="form-label">Primary Products:</label>
                                            <input id="primaryProducts" formControlName="primaryProducts"
                                                class="form-control form-control-nb"
                                                placeholder="Enter primary products" />
                                        </div>
                                    </div>

                                    <!-- Margin Per Day -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="marginPerDay" class="form-label">Margin Per Day:</label>
                                            <input id="marginPerDay" formControlName="marginPerDay"
                                                class="form-control form-control-nb" placeholder="Enter margin/day" />
                                        </div>
                                    </div>

                                    <!-- Compliance Certification ID (Dropdown) -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="complianceCertificationId" class="form-label">Compliance
                                                Certification:</label>
                                            <select id="complianceCertificationId"
                                                formControlName="complianceCertificationId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Certification --</option>
                                                <option *ngFor="let cert of complianceCertList" [value]="cert.id">{{
                                                    cert.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Governing Regulatory Body -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="governingRegulatoryBody" class="form-label">Governing Regulatory
                                                Body:</label>
                                            <input id="governingRegulatoryBody"
                                                formControlName="governingRegulatoryBody"
                                                class="form-control form-control-nb"
                                                placeholder="Enter regulatory body" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">

                        <!-- Operation and Process -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showOperation')">
                                Operation and Process
                                <span class="arrow" [class.open]="showOperation"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showOperation">

                                <!-- Operation and Process fields go here -->

                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="operatingPressureMax" class="form-label">Operating Pressure
                                                (Max):</label>
                                            <input id="operatingPressureMax" type="number"
                                                formControlName="operatingPressureMax"
                                                class="form-control form-control-nb" placeholder="Enter max pressure" />
                                        </div>
                                    </div>

                                    <!-- Operating Pressure Avg -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="operatingPressureAvg" class="form-label">Operating Pressure
                                                (Avg):</label>
                                            <input id="operatingPressureAvg" type="number"
                                                formControlName="operatingPressureAvg"
                                                class="form-control form-control-nb" placeholder="Enter avg pressure" />
                                        </div>
                                    </div>

                                    <!-- Operating Temperature Max -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernw">
                                            <label for="operatingTempMax" class="form-label">Operating Temperature
                                                (Max):</label>
                                            <input id="operatingTempMax" type="number"
                                                formControlName="operatingTempMax" class="form-control form-control-nb"
                                                placeholder="Enter max temp" />
                                        </div>
                                    </div>

                                    <!-- Operating Temperature Min -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernw">
                                            <label for="operatingTempMin" class="form-label">Operating Temperature
                                                (Min):</label>
                                            <input id="operatingTempMin" type="number"
                                                formControlName="operatingTempMin" class="form-control form-control-nb"
                                                placeholder="Enter min temp" />
                                        </div>
                                    </div>

                                    <!-- Process Fluid -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="processFluid" class="form-label">Process Fluid:</label>
                                            <input id="processFluid" formControlName="processFluid"
                                                class="form-control form-control-nb" placeholder="Enter fluid name" />
                                        </div>
                                    </div>

                                    <!-- Fluid Composition -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="fluidComposition" class="form-label">Fluid Composition:</label>
                                            <input id="fluidComposition" formControlName="fluidComposition"
                                                class="form-control form-control-nb" placeholder="Enter composition" />
                                        </div>
                                    </div>

                                    <!-- Fluid Phase (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="fluidPhaseId" class="form-label">Fluid Phase:</label>
                                            <select id="fluidPhaseId" formControlName="fluidPhaseId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Phase --</option>
                                                <option *ngFor="let item of fluidPhaseList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Inventory Volume -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="inventoryVolume" class="form-label">Inventory Volume:</label>
                                            <input id="inventoryVolume" type="number" formControlName="inventoryVolume"
                                                class="form-control form-control-nb" placeholder="Enter volume" />
                                        </div>
                                    </div>

                                    <!-- Density -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="density" class="form-label">Density:</label>
                                            <input id="density" type="number" formControlName="density"
                                                class="form-control form-control-nb" placeholder="Enter density" />
                                        </div>
                                    </div>

                                    <!-- Viscosity -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="viscosity" class="form-label">Viscosity:</label>
                                            <input id="viscosity" type="number" formControlName="viscosity"
                                                class="form-control form-control-nb" placeholder="Enter viscosity" />
                                        </div>
                                    </div>

                                    <!-- Specific Gravity -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="specificGravity" class="form-label">Specific Gravity:</label>
                                            <input id="specificGravity" type="number" formControlName="specificGravity"
                                                class="form-control form-control-nb"
                                                placeholder="Enter specific gravity" />
                                        </div>
                                    </div>

                                    <!-- Flow Rate -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="flowRate" class="form-label">Flow Rate:</label>
                                            <input id="flowRate" type="number" formControlName="flowRate"
                                                class="form-control form-control-nb" placeholder="Enter flow rate" />
                                        </div>
                                    </div>

                                    <!-- Velocity -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="velocity" class="form-label">Velocity:</label>
                                            <input id="velocity" type="number" formControlName="velocity"
                                                class="form-control form-control-nb" placeholder="Enter velocity" />
                                        </div>
                                    </div>

                                    <!-- Corrosivity (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="corrosivityId" class="form-label">Corrosivity:</label>
                                            <select id="corrosivityId" formControlName="corrosivityId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Corrosivity --</option>
                                                <option *ngFor="let item of corrosivityList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- pH -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="ph" class="form-label">pH:</label>
                                            <input id="ph" type="number" formControlName="ph"
                                                class="form-control form-control-nb" placeholder="Enter pH" />
                                        </div>
                                    </div>

                                    <!-- Process Environment (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="processEnvironmentId" class="form-label">Process
                                                Environment:</label>
                                            <select id="processEnvironmentId" formControlName="processEnvironmentId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Environment --</option>
                                                <option *ngFor="let item of environmentList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Toxic Mixture (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="toxicMixtureId" class="form-label">Toxic Mixture:</label>
                                            <select id="toxicMixtureId" formControlName="toxicMixtureId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Mixture --</option>
                                                <option *ngFor="let item of toxicMixtureList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Toxic Fluid (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="toxicFluidId" class="form-label">Toxic Fluid:</label>
                                            <select id="toxicFluidId" formControlName="toxicFluidId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Fluid --</option>
                                                <option *ngFor="let item of toxicFluidList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Flammability (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="flammabilityId" class="form-label">Flammability:</label>
                                            <select id="flammabilityId" formControlName="flammabilityId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Flammability --</option>
                                                <option *ngFor="let item of flammabilityList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Operating Weight -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="operatingWeight" class="form-label">Operating Weight:</label>
                                            <input id="operatingWeight" type="number" formControlName="operatingWeight"
                                                class="form-control form-control-nb" placeholder="Enter weight" />
                                        </div>
                                    </div>

                                    <!-- Criticality (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="criticalityId" class="form-label">Criticality:</label>
                                            <select id="criticalityId" formControlName="criticalityId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Criticality --</option>
                                                <option *ngFor="let item of criticalityList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Humidity Level -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="humidityLevel" class="form-label">Humidity Level:</label>
                                            <input id="humidityLevel" type="number" formControlName="humidityLevel"
                                                class="form-control form-control-nb" placeholder="Enter humidity %" />
                                        </div>
                                    </div>

                                    <!-- Seismic Zone Classification (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="seismicZoneClassificationId" class="form-label">Seismic
                                                Zone:</label>
                                            <select id="seismicZoneClassificationId"
                                                formControlName="seismicZoneClassificationId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Zone --</option>
                                                <option *ngFor="let item of seismicZoneList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Fire and Explosion Risk (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="fireAndExplosionRiskId" class="form-label">Fire/Explosion
                                                Risk:</label>
                                            <select id="fireAndExplosionRiskId" formControlName="fireAndExplosionRiskId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Risk --</option>
                                                <option *ngFor="let item of fireExplosionRiskList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Toxic Risk (Dropdown) -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="toxicRiskId" class="form-label">Toxic Risk:</label>
                                            <select id="toxicRiskId" formControlName="toxicRiskId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Toxic Risk --</option>
                                                <option *ngFor="let item of toxicRiskList" [value]="item.id">{{
                                                    item.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Total Population -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="totalPopulation" class="form-label">Total Population:</label>
                                            <input id="totalPopulation" type="number" formControlName="totalPopulation"
                                                class="form-control form-control-nb"
                                                placeholder="Enter total population" />
                                        </div>
                                    </div>

                                    <!-- Population Density -->
                                    <div class="col-md-4">
                                        <div class="m-1 field-containernwsm">
                                            <label for="populationDensity" class="form-label">Population
                                                Density:</label>
                                            <input id="populationDensity" type="number"
                                                formControlName="populationDensity" class="form-control form-control-nb"
                                                placeholder="Enter population density" />
                                        </div>
                                    </div>

                                </div>
                                <!-- Operating Pressure Max -->

                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <!-- Geometry -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showGeometry')">
                                Geometry
                                <span class="arrow" [class.open]="showGeometry"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showGeometry">
                                <div class="row">
                                    <!-- Geometry fields go here -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="geometryId" class="form-label">Geometry:</label>
                                            <select id="geometryId" formControlName="geometryId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Geometry --</option>
                                                <option *ngFor="let geometry of geometryList" [value]="geometry.id">{{
                                                    geometry.name
                                                    }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Nominal Size NPS -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="nominalSizeNPS" class="form-label">Nominal Size (NPS):</label>
                                            <input id="nominalSizeNPS" type="number" formControlName="nominalSizeNPS"
                                                class="form-control form-control-nb" placeholder="Enter NPS" />
                                        </div>
                                    </div>

                                    <!-- Inside Diameter -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="insideDiameter" class="form-label">Inside Diameter:</label>
                                            <input id="insideDiameter" type="number" formControlName="insideDiameter"
                                                class="form-control form-control-nb"
                                                placeholder="Enter inside diameter" />
                                        </div>
                                    </div>

                                    <!-- Outside Diameter -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="outsideDiameter" class="form-label">Outside Diameter:</label>
                                            <input id="outsideDiameter" type="number" formControlName="outsideDiameter"
                                                class="form-control form-control-nb"
                                                placeholder="Enter outside diameter" />
                                        </div>
                                    </div>

                                    <!-- Length or Height -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="lengthOrHeight" class="form-label">Length / Height:</label>
                                            <input id="lengthOrHeight" type="number" formControlName="lengthOrHeight"
                                                class="form-control form-control-nb"
                                                placeholder="Enter length or height" />
                                        </div>
                                    </div>

                                    <!-- Fill Height -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="fillHeight" class="form-label">Fill Height:</label>
                                            <input id="fillHeight" type="number" formControlName="fillHeight"
                                                class="form-control form-control-nb" placeholder="Enter fill height" />
                                        </div>
                                    </div>

                                    <!-- Orientation ID (Dropdown) -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="orientationId" class="form-label">Orientation:</label>
                                            <select id="orientationId" formControlName="orientationId"
                                                class="form-control form-control-nb">
                                                <option value="">-- Select Orientation --</option>
                                                <option *ngFor="let orientation of orientationList"
                                                    [value]="orientation.id">{{
                                                    orientation.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Empty Weight -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="emptyWeight" class="form-label">Empty Weight:</label>
                                            <input id="emptyWeight" type="number" formControlName="emptyWeight"
                                                class="form-control form-control-nb" placeholder="Enter empty weight" />
                                        </div>
                                    </div>

                                    <!-- Capacity -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="capacity" class="form-label">Capacity:</label>
                                            <input id="capacity" type="number" formControlName="capacity"
                                                class="form-control form-control-nb" placeholder="Enter capacity" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4">
                        <!-- External -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showExternal')">
                                External
                                <span class="arrow" [class.open]="showExternal"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showExternal">
                                <div class=" row">
                                    <!-- External fields go here -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="externalCoatingId" class="form-label">External Coating:</label>
                                            <select id="externalCoatingId" formControlName="externalCoatingId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of externalCoatingList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="externalCoatingTypeId" class="form-label">External Coating
                                                Type:</label>
                                            <select id="externalCoatingTypeId" formControlName="externalCoatingTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of externalCoatingTypeList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="externalCoatingThickness" class="form-label">External Coating
                                                Thickness:</label>
                                            <input id="externalCoatingThickness" type="number"
                                                formControlName="externalCoatingThickness"
                                                class="form-control form-control-nb" placeholder="Enter thickness" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="externalCoatingAge" class="form-label">External Coating
                                                Age:</label>
                                            <input id="externalCoatingAge" type="number"
                                                formControlName="externalCoatingAge"
                                                class="form-control form-control-nb" placeholder="Enter age in years" />
                                        </div>
                                    </div>

                                    <!-- Insulation -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="insulationId" class="form-label">Insulation:</label>
                                            <select id="insulationId" formControlName="insulationId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of insulationList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="insulationTypeId" class="form-label">Insulation Type:</label>
                                            <select id="insulationTypeId" formControlName="insulationTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of insulationTypeList" [value]="option.id">{{
                                                    option.name
                                                    }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="insulationMaterialId" class="form-label">Insulation
                                                Material:</label>
                                            <select id="insulationMaterialId" formControlName="insulationMaterialId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of insulationMaterialList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="insulationThickness" class="form-label">Insulation
                                                Thickness:</label>
                                            <input id="insulationThickness" type="text"
                                                formControlName="insulationThickness"
                                                class="form-control form-control-nb"
                                                placeholder="Enter insulation thickness" />
                                        </div>
                                    </div>

                                    <!-- Additional Dropdowns -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="cuiPotentialId" class="form-label">CUI Potential:</label>
                                            <select id="cuiPotentialId" formControlName="cuiPotentialId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of cuiPotentialList" [value]="option.id">{{
                                                    option.name
                                                    }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="externalEnvironmentId" class="form-label">External
                                                Environment:</label>
                                            <select id="externalEnvironmentId" formControlName="externalEnvironmentId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of externalEnvironmentList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="supportTypeId" class="form-label">Support Type:</label>
                                            <select id="supportTypeId" formControlName="supportTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of supportTypeList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="heatTracingId" class="form-label">Heat Tracing:</label>
                                            <select id="heatTracingId" formControlName="heatTracingId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of heatTracingList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="fireProofingId" class="form-label">Fire Proofing:</label>
                                            <select id="fireProofingId" formControlName="fireProofingId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of fireProofingList" [value]="option.id">{{
                                                    option.name
                                                    }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="buriedId" class="form-label">Buried:</label>
                                            <select id="buriedId" formControlName="buriedId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of buriedList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="cathodicProtectionId" class="form-label">Cathodic
                                                Protection:</label>
                                            <select id="cathodicProtectionId" formControlName="cathodicProtectionId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of cathodicProtectionList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4">

                        <!-- Fabrication -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showFabrication')">
                                Fabrication
                                <span class="arrow" [class.open]="showFabrication"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showFabrication">
                                <div class=" row">
                                    <!-- Fabrication fields go here -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="manufacturer" class="form-label">Manufacturer:</label>
                                            <input id="manufacturer" type="text" formControlName="manufacturer"
                                                class="form-control form-control-nb" placeholder="Enter manufacturer" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="serialNumber" class="form-label">Serial Number:</label>
                                            <input id="serialNumber" type="text" formControlName="serialNumber"
                                                class="form-control form-control-nb"
                                                placeholder="Enter serial number" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="warrantyDate" class="form-label">Warranty Date:</label>
                                            <input id="warrantyDate" type="date" formControlName="warrantyDate"
                                                class="form-control form-control-nb" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="heatTreatmentId" class="form-label">Heat Treatment:</label>
                                            <select id="heatTreatmentId" formControlName="heatTreatmentId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of heatTreatmentList" [value]="option.id">{{
                                                    option.name
                                                    }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="heatTreatmentTypeId" class="form-label">Heat Treatment
                                                Type:</label>
                                            <select id="heatTreatmentTypeId" formControlName="heatTreatmentTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of heatTreatmentTypeList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="impactTestId" class="form-label">Impact Test:</label>
                                            <select id="impactTestId" formControlName="impactTestId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of impactTestList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="pressureTestId" class="form-label">Pressure Test:</label>
                                            <select id="pressureTestId" formControlName="pressureTestId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of pressureTestList" [value]="option.id">{{
                                                    option.name
                                                    }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="pressureTestTypeId" class="form-label">Pressure Test
                                                Type:</label>
                                            <select id="pressureTestTypeId" formControlName="pressureTestTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of pressureTestTypeList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="testPressure" class="form-label">Test Pressure:</label>
                                            <input id="testPressure" type="text" formControlName="testPressure"
                                                class="form-control form-control-nb"
                                                placeholder="Enter test pressure" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="radiographyId" class="form-label">Radiography:</label>
                                            <select id="radiographyId" formControlName="radiographyId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of radiographyList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="radiographyCategoryid" class="form-label">Radiography
                                                Category:</label>
                                            <select id="radiographyCategoryid" formControlName="radiographyCategoryid"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of radiographyCategoryList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="jointEfficiency" class="form-label">Joint Efficiency:</label>
                                            <input id="jointEfficiency" type="text" formControlName="jointEfficiency"
                                                class="form-control form-control-nb"
                                                placeholder="Enter joint efficiency" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="otherNDE" class="form-label">Other NDE:</label>
                                            <input id="otherNDE" type="text" formControlName="otherNDE"
                                                class="form-control form-control-nb" placeholder="Enter other NDE" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <!-- Material -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showMaterial')">
                                Material
                                <span class="arrow" [class.open]="showMaterial"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showMaterial">
                                <div class="row">
                                    <!-- Material fields go here -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="generalMaterialId" class="form-label">General Material:</label>
                                            <select id="generalMaterialId" formControlName="generalMaterialId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of generalMaterialList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="materialSpecification" class="form-label">Material
                                                Specification:</label>
                                            <input id="materialSpecification" type="text"
                                                formControlName="materialSpecification"
                                                class="form-control form-control-nb"
                                                placeholder="Enter material specification" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="allowableStress" class="form-label">Allowable Stress:</label>
                                            <input id="allowableStress" type="number" formControlName="allowableStress"
                                                class="form-control form-control-nb"
                                                placeholder="Enter allowable stress" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="scheduleid" class="form-label">Schedule:</label>
                                            <select id="scheduleid" formControlName="scheduleid"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of scheduleList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="nominalThickness" class="form-label">Nominal Thickness:</label>
                                            <input id="nominalThickness" type="number"
                                                formControlName="nominalThickness" class="form-control form-control-nb"
                                                placeholder="Enter nominal thickness" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="corrosionAllowance" class="form-label">Corrosion
                                                Allowance:</label>
                                            <input id="corrosionAllowance" type="number"
                                                formControlName="corrosionAllowance"
                                                class="form-control form-control-nb"
                                                placeholder="Enter corrosion allowance" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="claddingId" class="form-label">Cladding:</label>
                                            <select id="claddingId" formControlName="claddingId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of claddingList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="claddingTypeId" class="form-label">Cladding Type:</label>
                                            <select id="claddingTypeId" formControlName="claddingTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of claddingTypeList" [value]="option.id">{{
                                                    option.name
                                                    }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="claddingMaterialId" class="form-label">Cladding
                                                Material:</label>
                                            <select id="claddingMaterialId" formControlName="claddingMaterialId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of claddingMaterialList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="claddingThickness" class="form-label">Cladding
                                                Thickness:</label>
                                            <input id="claddingThickness" type="number"
                                                formControlName="claddingThickness" class="form-control form-control-nb"
                                                placeholder="Enter cladding thickness" />
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="liningId" class="form-label">Lining:</label>
                                            <select id="liningId" formControlName="liningId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of liningList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="liningTypeId" class="form-label">Lining Type:</label>
                                            <select id="liningTypeId" formControlName="liningTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of liningTypeList" [value]="option.id">{{
                                                    option.name }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="materialCertificationId" class="form-label">Material
                                                Certification:</label>
                                            <select id="materialCertificationId"
                                                formControlName="materialCertificationId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of materialCertificationList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4">
                        <!-- Safety and Process Control -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showSafety')">
                                Safety and Process Control
                                <span class="arrow" [class.open]="showSafety"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showSafety">
                                <div class="row">
                                    <!-- Safety and Process Control fields go here -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="pressureReliefDevicesId" class="form-label">Pressure Relief
                                                Devices:</label>
                                            <select id="pressureReliefDevicesId"
                                                formControlName="pressureReliefDevicesId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of pressureReliefDevicesList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- PRD ID -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="prdID" class="form-label">PRD ID:</label>
                                            <input id="prdID" type="text" formControlName="prdID"
                                                class="form-control form-control-nb" placeholder="Enter PRD ID" />
                                        </div>
                                    </div>

                                    <!-- PRD Set Pressure -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="prdSetPressure" class="form-label">PRD Set Pressure:</label>
                                            <input id="prdSetPressure" type="number" formControlName="prdSetPressure"
                                                class="form-control form-control-nb" placeholder="Enter set pressure" />
                                        </div>
                                    </div>

                                    <!-- Chemical Injection -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="chemicalInjectionId" class="form-label">Chemical
                                                Injection:</label>
                                            <select id="chemicalInjectionId" formControlName="chemicalInjectionId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of chemicalInjectionList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Detection System -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="detectionSystemId" class="form-label">Detection System:</label>
                                            <select id="detectionSystemId" formControlName="detectionSystemId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of detectionSystemList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Isolation System -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="isolationSystemId" class="form-label">Isolation System:</label>
                                            <select id="isolationSystemId" formControlName="isolationSystemId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of isolationSystemList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Mitigation System -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="mitigationSystemId" class="form-label">Mitigation
                                                System:</label>
                                            <select id="mitigationSystemId" formControlName="mitigationSystemId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of mitigationSystemList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Online Corrosion Monitoring -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="onlineCorrosionMonitoringId" class="form-label">Online Corrosion
                                                Monitoring:</label>
                                            <select id="onlineCorrosionMonitoringId"
                                                formControlName="onlineCorrosionMonitoringId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of onlineCorrosionMonitoringList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Corrosion Monitoring Type -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="corrosionMonitoringTypeId" class="form-label">Corrosion
                                                Monitoring
                                                Type:</label>
                                            <select id="corrosionMonitoringTypeId"
                                                formControlName="corrosionMonitoringTypeId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of corrosionMonitoringTypeList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Hazard Classification -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="hazardClassificationId" class="form-label">Hazard
                                                Classification:</label>
                                            <select id="hazardClassificationId" formControlName="hazardClassificationId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of hazardClassificationList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Safety and Environmental Permits -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernw">
                                            <label for="safetyAndEnvironmentalPermitsId" class="form-label">Safety and
                                                Environmental
                                                Permits:</label>
                                            <input id="safetyAndEnvironmentalPermitsId" type="text"
                                                formControlName="safetyAndEnvironmentalPermitsId"
                                                class="form-control form-control-nb" placeholder="Enter permit ID" />
                                        </div>
                                    </div>

                                    <!-- Incident History -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="incidentHistory" class="form-label">Incident History:</label>
                                            <textarea id="incidentHistory" formControlName="incidentHistory"
                                                class="form-control form-control-nb" rows="3"
                                                placeholder="Enter incident history"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Integrity & Inspection -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showIntegrity')">
                                Integrity & Inspection
                                <span class="arrow" [class.open]="showIntegrity"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showIntegrity">
                                <div class=" row">
                                    <!-- Integrity & Inspection fields go here -->

                                    <!-- Current Inspection Strategy -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernw">
                                            <label for="currentInspectionStrategy" class="form-label">Current Inspection
                                                Strategy:</label>
                                            <select id="currentInspectionStrategy"
                                                formControlName="currentInspectionStrategy"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of inspectionStrategyList"
                                                    [value]="option.id">{{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Damage Mechanisms -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="damageMechanisms" class="form-label">Damage Mechanisms:</label>
                                            <input id="damageMechanisms" type="text" formControlName="damageMechanisms"
                                                class="form-control form-control-nb"
                                                placeholder="Enter damage mechanisms" />
                                        </div>
                                    </div>

                                    <!-- Shutdown Frequency -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernw">
                                            <label for="shutdownFrequency" class="form-label">Shutdown Frequency
                                                (months):</label>
                                            <input id="shutdownFrequency" type="number"
                                                formControlName="shutdownFrequency" class="form-control form-control-nb"
                                                placeholder="Enter shutdown frequency" />
                                        </div>
                                    </div>

                                    <!-- Last Major Shutdown Date -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="lastMajorShutdownDate" class="form-label">Last Major Shutdown
                                                Date:</label>
                                            <input id="lastMajorShutdownDate" type="date"
                                                formControlName="lastMajorShutdownDate"
                                                class="form-control form-control-nb" />
                                        </div>
                                    </div>

                                    <!-- Next Major Shutdown Date -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="nextMajorShutdownDate" class="form-label">Next Major Shutdown
                                                Date:</label>
                                            <input id="nextMajorShutdownDate" type="date"
                                                formControlName="nextMajorShutdownDate"
                                                class="form-control form-control-nb" />
                                        </div>
                                    </div>

                                    <!-- Subsequent Major Shutdown Date -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="subsequentMajorShutdownDate" class="form-label">Subsequent Major
                                                Shutdown
                                                Date:</label>
                                            <input id="subsequentMajorShutdownDate" type="date"
                                                formControlName="subsequentMajorShutdownDate"
                                                class="form-control form-control-nb" />
                                        </div>
                                    </div>

                                    <!-- MTBF -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="mtbf" class="form-label">MTBF (hrs):</label>
                                            <input id="mtbf" type="number" formControlName="mtbf"
                                                class="form-control form-control-nb" placeholder="Enter MTBF" />
                                        </div>
                                    </div>

                                    <!-- MTTR -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="mttr" class="form-label">MTTR (hrs):</label>
                                            <input id="mttr" type="number" formControlName="mttr"
                                                class="form-control form-control-nb" placeholder="Enter MTTR" />
                                        </div>
                                    </div>

                                    <!-- CML Drawing ID -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="cmlDrawingID" class="form-label">CML Drawing ID:</label>
                                            <input id="cmlDrawingID" type="text" formControlName="cmlDrawingID"
                                                class="form-control form-control-nb"
                                                placeholder="Enter CML Drawing ID" />
                                        </div>
                                    </div>

                                    <!-- Inspection Access -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="inspectionAccess" class="form-label">Inspection Access:</label>
                                            <select id="inspectionAccess" formControlName="inspectionAccess"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of inspectionAccessList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Inspection Supervisor -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="inspectionSupervisor" class="form-label">Inspection
                                                Supervisor:</label>
                                            <input id="inspectionSupervisor" type="text"
                                                formControlName="inspectionSupervisor"
                                                class="form-control form-control-nb"
                                                placeholder="Enter supervisor name" />
                                        </div>
                                    </div>

                                    <!-- Inspector -->
                                    <div class="col-md-6">
                                        <div class="m-1 field-containernwsm">
                                            <label for="inspector" class="form-label">Inspector:</label>
                                            <input id="inspector" type="text" formControlName="inspector"
                                                class="form-control form-control-nb"
                                                placeholder="Enter inspector name" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Inspection Schedule -->

                    </div>
                    <div class="col-md-4">
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showInspectionSchedule')">
                                Inspection Schedule
                                <span class="arrow" [class.open]="showInspectionSchedule"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showInspectionSchedule">
                                <div class="row">

                                    <table class="inspection-table">
                                        <thead>
                                            <tr>
                                                <th>Inspection Type</th>
                                                <th>Next Inspection Date</th>
                                                <th>Previous Inspection Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Internal Inspection</td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="internalInspectionDate" type="date"
                                                            formControlName="internalInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="prevInternalInspectionDate" type="date"
                                                            formControlName="internalInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>External Inspection</td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="externalInspectionDate" type="date"
                                                            formControlName="externalInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="prevExternalInspectionDate" type="date"
                                                            formControlName="externalInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>On-stream Inspection</td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="onStreamInspectionDate" type="date"
                                                            formControlName="onStreamInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="prevOnStreamInspectionDate" type="date"
                                                            formControlName="onStreamInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>TM Inspection</td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="tmInspectionDate" type="date"
                                                            formControlName="tmInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="m-1 field-containernwsm">

                                                        <input id="prevTmInspectionDate" type="date"
                                                            formControlName="tmInspectionDate"
                                                            class="form-control form-control-nb" />
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <!-- Inspection Schedule fields go here -->

                                </div>
                            </div>
                        </div>
                        <!-- Maintenance Schedule -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showMaintenance')">
                                Maintenance Schedule
                                <span class="arrow" [class.open]="showMaintenance"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showMaintenance">
                                <div class="row">
                                    <!-- Maintenance Schedule fields go here -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="scheduledRepairOrReplacementId" class="form-label">
                                                Repair/Replacement:</label>
                                            <select id="scheduledRepairOrReplacementId"
                                                formControlName="scheduledRepairOrReplacementId"
                                                class="form-control form-control-nb">
                                                <option value="">--Select--</option>
                                                <option *ngFor="let option of scheduledRepairList" [value]="option.id">
                                                    {{
                                                    option.name }}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Scheduled Repair or Replacement Date -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernw">
                                            <label for="scheduledRepairOrReplacementDate" class="form-label">
                                                Repair/Replacement Date:</label>
                                            <input id="scheduledRepairOrReplacementDate" type="date"
                                                formControlName="scheduledRepairOrReplacementDate"
                                                class="form-control form-control-nb" />
                                        </div>
                                    </div>

                                    <!-- Repair During Next Shutdown (Checkbox) -->
                                    <div class="col-md-12">
                                        <div class="m-1 form-check field-containernw">   <label for="repairDuringNextShutdown" class="form-check-label">Repair During
                                            Next
                                            Shutdown</label>
                                            <div style="margin-left:5%;"> <input id="repairDuringNextShutdown"
                                                    type="checkbox" style="width: 25px !important;height: 25px !important;"
                                                    formControlName="repairDuringNextShutdown"
                                                    class="form-check-input" /></div>
                                         
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>




                        <!-- Integration & Metadata -->
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showMetadata')">
                                Integration & Metadata
                                <span class="arrow" [class.open]="showMetadata"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showMetadata">
                                <div class="row">
                                    <!-- Integration & Metadata fields go here -->
                                    <!-- ERP Circuit Code -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="erpCircuitCode" class="form-label">ERP Circuit Code:</label>
                                            <input id="erpCircuitCode" type="text" formControlName="erpCircuitCode"
                                                class="form-control form-control-nb"
                                                placeholder="Enter ERP Circuit Code" />
                                        </div>
                                    </div>

                                    <!-- ERP System -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="erpSystem" class="form-label">ERP System:</label>
                                            <input id="erpSystem" type="text" formControlName="erpSystem"
                                                class="form-control form-control-nb" placeholder="Enter ERP System" />
                                        </div>
                                    </div>

                                    <!-- Functional Location -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="functionalLocation" class="form-label">Functional
                                                Location:</label>
                                            <input id="functionalLocation" type="text"
                                                formControlName="functionalLocation"
                                                class="form-control form-control-nb"
                                                placeholder="Enter Functional Location" />
                                        </div>
                                    </div>

                                    <!-- External System ID -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="externalSystemID" class="form-label">External System ID:</label>
                                            <input id="externalSystemID" type="text" formControlName="externalSystemID"
                                                class="form-control form-control-nb"
                                                placeholder="Enter External System ID" />
                                        </div>
                                    </div>

                                    <!-- Sync Status -->
                                    <div class="col-md-12">
                                        <div class="m-1 field-containernwsm">
                                            <label for="syncStatus" class="form-label">Sync Status:</label>
                                            <input id="syncStatus" type="text" formControlName="syncStatus"
                                                class="form-control form-control-nb" placeholder="Enter Sync Status" />
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="accordion-item">
                            <div class="accordion-header" (click)="toggle('showAudit')">
                                Documents
                                <span class="arrow" [class.open]="showAudit"></span>
                            </div>
                            <div class="accordion-wrapper" [class.open]="showAudit">
                                <div class="row">
                                    <div class="mb-2 field-containernw">
                                        <label for="documents" class="form-label">Select Files:</label>
                                        <input id="documents" type="file" multiple class="form-control form-control-nb"
                                            style="margin: -6px -6px;" (change)="onFileSelect($event)" />
                                    </div>
                                    <div class="mb-3">
                                        <ul *ngIf="documentPreviews.length > 0" class="list-group"
                                            style="border-radius: 0px;">
                                            <li *ngFor="let file of documentPreviews; let i = index"
                                                class="list-group-item d-flex justify-content-between align-items-center">
                                                <span>{{ file.name }}</span>
                                                <div>
                                                    <button class="btn btn-sm btn-outline-success mx-1 docbutton"
                                                        (click)="downloadFile(file)">
                                                        <i class="feather icon-download"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-danger docbutton"
                                                        (click)="deleteFile(i)">
                                                        <i class="feather icon-trash"></i>
                                                    </button>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>












                <!-- Record Audit Information
                <div class="accordion-item">
                    <div class="accordion-header" (click)="toggle('showAudit')">
                        Record Audit Information
                        <span class="arrow" [class.open]="showAudit"></span>
                    </div>
                    <div class="accordion-wrapper" [class.open]="showAudit">
                        <div class="row">
                           
                        </div>
                    </div>
                </div> -->



                <!-- Submit Button -->
                <!-- <div class="row mt-4">
                    <div *ngIf="this.canAdd" class="col-md-12 text-center">
                        <button type="submit" [disabled]="circuitForm.invalid" class="btn btn-primary">Save
                            Circuit</button>
                    </div>
                    <div *ngIf="!this.canAdd" class="col-md-12 text-center">
                        <button type="button" disabled class="btn btn-primary">Save Circuit</button>
                    </div>
                </div> -->
            </form>


        </div>
    </div>
</div>